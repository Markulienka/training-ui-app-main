"use strict";(self.webpackChunkteskalabs_training_ui_app=self.webpackChunkteskalabs_training_ui_app||[]).push([[261],{2261:function(e,t,a){a.d(t,{default:function(){return g}});var n=a(937),l=a(7953),r=a(2766),i=a(4331),o=a(6690);function c(e){const{t:t}=(0,i.B)(),[a,c]=(0,l.useState)([]),[s,u]=(0,l.useState)(!0),[m,d]=(0,l.useState)(null),[E,g]=(0,l.useState)(10),[f,p]=(0,l.useState)(0),[h,b]=(0,l.useState)(0),w=(0,o.useNavigate)();(0,l.useEffect)((()=>{!async function(){u(!0),d(null);try{const e=await fetch(`https://devtest.teskalabs.com/data?limit=${E}&offset=${f}`);if(!e.ok)throw new Error("HTTP error");const t=await e.json(),a=t.data;Array.isArray(a)?c(a):c([]),b(t.count||0)}catch(e){console.log("There has been error with fetching data"),d(e)}u(!1)}()}),[E,f]);const A=[{title:l.createElement(l.Fragment,null,l.createElement("i",{className:"bi bi-person-fill",style:{marginRight:"5px"}}),t("Username")),render:({row:e})=>l.createElement("span",{title:`ID: ${e.id}`,style:{cursor:"pointer",color:"red",textDecoration:"underline dotted"},onClick:()=>w(`/detail/${e.id}`)},e.username)},{title:l.createElement(l.Fragment,null,l.createElement("i",{className:"bi bi-envelope-fill",style:{marginRight:"5px"}}),t("Email")),render:({row:e})=>e.email},{title:l.createElement(l.Fragment,null,l.createElement("i",{className:"bi bi-calendar-event",style:{marginRight:"5px"}}),t("Created At")),render:({row:e})=>l.createElement(n.DateTime,{value:e.created})}];return s?l.createElement(r.A,null,t("Loading...")):m?l.createElement(r.A,null,t("Error loading data")):l.createElement(r.A,{className:"h-100"},l.createElement(n.DataTable2,{columns:A,rows:Array.isArray(a)?a:[],limit:E,loading:s,rowHeight:"50px",total:h,updatePageOffset:function(e){p((e-1)*E)},updatePageSize:function(e){g(e),p(0)}}))}var s=a(3003),u=a(7506),m=a(927),d=a(2769);function E(){const{id:e}=(0,o.useParams)(),[t,a]=(0,l.useState)(null),[i,c]=(0,l.useState)(!0),[E,g]=(0,l.useState)(null),f=(0,o.useNavigate)();return(0,l.useEffect)((()=>{c(!0),g(null),async function(){try{const t=await fetch(`https://devtest.teskalabs.com/detail/${e}`);if(!t.ok)throw new Error("HTTP error");const n=await t.json();console.log(n),a(n)}catch(e){console.log("There has been error with fetching data"),g(e)}c(!1)}()}),[e]),i?l.createElement(r.A,null,"Loading data..."):E?l.createElement(r.A,null,"Error loading data"):t?l.createElement(r.A,null,l.createElement(d.A,{color:"secondary",onClick:()=>f("/")},"‚Üê ","Back"),l.createElement(s.A,null,l.createElement(u.A,null,"Detail for: ",t.username),l.createElement(m.A,null,l.createElement("p",null,l.createElement("strong",null,"Email:")," ",t.email),l.createElement("p",null,l.createElement("strong",null,"Created:")," ",l.createElement(n.DateTime,{value:t.created}))))):l.createElement(r.A,null,"Error with data")}class g extends n.Module{constructor(e,t){super(e,"TableApplicationModule"),e.Router.addRoute({path:"/",end:!1,name:"Table",component:c}),e.Router.addRoute({path:"/detail/:id",end:!0,name:"Detail",component:E}),e.Navigation.addItem({name:"Table",icon:"bi bi-table",url:"/"})}}}}]);